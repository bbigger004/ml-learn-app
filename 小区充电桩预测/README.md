# 小区充电桩预测模型

这是一个基于TensorFlow.js的Web应用，用于根据CSV数据中的前几列特征预测y值，并生成y2预测值和p偏差值。

## 功能特点

- 数据加载与预处理
- 神经网络模型训练
- 模型参数微调
- 模型持久化保存与加载
- 预测结果可视化
- 实时预测功能

## 安装与运行

### 1. 安装依赖

```bash
npm install
```

### 2. 启动应用

```bash
npm start
```

或者使用开发模式（自动重启）：

```bash
npm run dev
```

### 3. 访问应用

打开浏览器访问：http://localhost:3000

## 使用说明

### 数据准备

1. 准备CSV文件，确保包含以下列：
   - 月份
   - 居家电动车
   - 常驻电动车
   - 居家汽车app
   - 常驻汽车app
   - 居家汽车服务
   - 常驻汽车服务
   - 居家新能源车占比
   - 常驻新能源车占比
   - 居家新能源车主比例
   - 常驻新能源车主比例
   - 居家人数
   - 常驻人数
   - y（预测目标）

2. 将CSV文件放在项目根目录下

### 模型训练

1. 在"数据与模型管理"部分，点击"加载数据"按钮加载CSV文件
2. 系统会自动进行数据预处理和标准化
3. 调整模型参数（学习率、训练轮数、批次大小等）
4. 点击"开始训练"按钮开始训练模型
5. 训练过程中可以查看损失曲线和准确率变化

### 模型保存与加载

1. 训练完成后，可以点击"保存模型"按钮保存当前模型
2. 输入模型名称，点击确认
3. 保存的模型会显示在"已保存的模型"列表中
4. 可以随时加载已保存的模型进行预测

### 预测功能

1. 在"预测输入"部分，输入各特征值
2. 点击"进行预测"按钮
3. 查看预测结果和置信度
4. 可以多次输入不同数据进行预测

### 参数微调

1. 在"参数调整"部分，可以调整以下参数：
   - 学习率
   - 训练轮数
   - 批次大小
   - 隐藏层结构
   - 激活函数
   - 优化器

2. 调整参数后，可以重新训练模型或微调现有模型

## 技术栈

- 前端：HTML5, CSS3, JavaScript, Bootstrap
- 机器学习：TensorFlow.js
- 数据处理：PapaParse
- 图表：Chart.js
- 后端：Node.js, Express

## 项目结构

```
小区充电桩预测/
├── index.html          # 主页面
├── server.js           # 服务器文件
├── package.json        # 项目配置
├── js/
│   ├── app.js          # 主应用逻辑
│   ├── model.js        # 模型相关功能
│   └── ui.js           # UI工具函数
├── data/               # 数据目录
├── models/             # 保存的模型目录
└── README.md           # 项目说明
```

## 注意事项

1. 确保CSV文件格式正确，包含所有必要的列
2. 训练数据量越大，模型预测效果越好
3. 模型参数需要根据实际情况进行调整
4. 模型训练可能需要一些时间，取决于数据量和模型复杂度

## 许可证

MIT